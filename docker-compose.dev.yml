services:
    db:
        image: mariadb:11
        environment:
            MARIADB_ROOT_PASSWORD: rootpassword
            MARIADB_DATABASE: portfolio
        ports:
            - "3306:3306"
        healthcheck:
            test: ["CMD", "healthcheck.sh", "--connect", "--innodb_initialized"]
            interval: 10s
            timeout: 5s
            retries: 5
    cache:
        image: valkey/valkey:alpine3.22
        ports:
            - "6379:6379"
