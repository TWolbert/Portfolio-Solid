@import url("https://fonts.googleapis.com/css2?family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&display=swap");
@import "tailwindcss";

html {
    overflow: hidden;
    scroll-behavior: smooth;
    height: 100%;
}

body {
    height: 100%;
    overflow: auto;
}

@theme inline {
    --font-heading: "Merriweather", serif;
}
@theme {
    --animate-expand: expand 250ms cubic-bezier(0.32, 0.72, 0, 0.75);
    --animate-collapse: collapse 250ms cubic-bezier(0.32, 0.72, 0, 0.75);
    --animate-caret-blink: caret-blink 1.25s ease-out infinite;
    --animate-in: enter 150ms ease;
    --animate-out: exit 150ms ease;

    @keyframes expand {
        0% {
            height: 0px;
        }
        100% {
            height: var(--corvu-disclosure-content-height);
        }
    }

    @keyframes collapse {
        0% {
            height: var(--corvu-disclosure-content-height);
        }
        100% {
            height: 0px;
        }
    }

    @keyframes caret-blink {
        0%,
        70%,
        100% {
            opacity: 0;
        }
        20%,
        50% {
            opacity: 1;
        }
    }

    @keyframes enter {
        from {
            opacity: var(--tw-enter-opacity, 1);
            transform: translate3d(
                    var(--tw-enter-translate-x, 0),
                    var(--tw-enter-translate-y, 0),
                    0
                )
                scale3d(
                    var(--tw-enter-scale, 1),
                    var(--tw-enter-scale, 1),
                    var(--tw-enter-scale, 1)
                );
        }
    }

    @keyframes exit {
        to {
            opacity: var(--tw-exit-opacity, 1);
            transform: translate3d(
                    var(--tw-exit-translate-x, 0),
                    var(--tw-exit-translate-y, 0),
                    0
                )
                scale3d(
                    var(--tw-exit-scale, 1),
                    var(--tw-exit-scale, 1),
                    var(--tw-exit-scale, 1)
                );
        }
    }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
    *,
    ::after,
    ::before,
    ::backdrop,
    ::file-selector-button {
        border-color: var(--color-gray-200, currentcolor);
    }
}

/* src/components/loader.css */
.loader {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    /* CSS variables with sensible defaults */
    --loader-size: 24px;
    --loader-color: currentColor;
    --loader-speed: 900ms;
}

/* Spinner (stroke ring) */
.loader-spinner {
    width: var(--loader-size);
    height: var(--loader-size);
    border-radius: 50%;
    border: calc(var(--loader-size) / 8) solid transparent;
    border-top-color: var(--loader-color);
    border-right-color: var(--loader-color);
    animation: loader-rotate var(--loader-speed) linear infinite;
    box-sizing: border-box;
}

@keyframes loader-rotate {
    to {
        transform: rotate(360deg);
    }
}

/* Dots (three bounce) */
.loader-dots {
    display: inline-flex;
    gap: calc(var(--loader-size) / 6);
}

.loader-dots > span {
    width: calc(var(--loader-size) / 3);
    height: calc(var(--loader-size) / 3);
    background: var(--loader-color);
    border-radius: 50%;
    animation: loader-bounce var(--loader-speed) ease-in-out infinite;
    opacity: 0.7;
}

.loader-dots > span:nth-child(2) {
    animation-delay: calc(var(--loader-speed) / 6);
}
.loader-dots > span:nth-child(3) {
    animation-delay: calc(var(--loader-speed) / 3);
}

@keyframes loader-bounce {
    0%,
    80%,
    100% {
        transform: translateY(0);
        opacity: 0.6;
    }
    40% {
        transform: translateY(-35%);
        opacity: 1;
    }
}

/* Bar (indeterminate) */
.loader-bar {
    position: relative;
    width: calc(var(--loader-size) * 2.5);
    height: calc(var(--loader-size) / 5);
    background: color-mix(in oklab, var(--loader-color) 25%, transparent);
    overflow: hidden;
    border-radius: 999px;
}

.loader-bar > span {
    position: absolute;
    inset: 0;
    width: 40%;
    background: var(--loader-color);
    border-radius: inherit;
    animation: loader-slide var(--loader-speed) ease-in-out infinite;
}

@keyframes loader-slide {
    0% {
        transform: translateX(-120%);
    }
    50% {
        transform: translateX(40%);
    }
    100% {
        transform: translateX(120%);
    }
}

/* Optional: reduce motion support */
@media (prefers-reduced-motion: reduce) {
    .loader-spinner,
    .loader-dots > span,
    .loader-bar > span {
        animation-duration: 1ms !important;
        animation-iteration-count: 1 !important;
    }
}

.route-shell {
    position: relative;
    overflow: hidden;
}

.page {
    will-change: transform, opacity;
}

/* Leaving state for the old page */
.route-leave .page {
    animation: page-leave 250ms ease forwards;
}

/* Entering state for the new page */
.route-enter .page {
    animation: page-enter 250ms ease forwards;
}

@keyframes page-leave {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(10px);
    }
}

@keyframes page-enter {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
